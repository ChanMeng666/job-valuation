# 工作性价比评估平台开发规范文档

## 1. 项目概述

### 1.1 项目目标
开发一个在线工作性价比评估平台，帮助普通工作者通过填写相关指标快速评估当前工作的性价比水平。

### 1.2 核心功能
- 用户注册与认证
- 工作性价比评估问卷
- 评估结果展示与分析
- 历史评估记录管理
- 数据可视化展示

## 2. 技术架构

### 2.1 技术栈选择
- **前端框架**: Next.js 14
  - App Router
  - React Server Components
  - Server Actions
- **UI框架**: shadcn/ui + Tailwind CSS
- **状态管理**: Zustand
- **数据库**: Supabase (Postgres)
- **认证**: Next-Auth
- **表单处理**: React Hook Form + Zod
- **数据可视化**: Recharts

### 2.2 项目结构
```
src/
├── app/                 # Next.js 应用路由
├── components/          # React组件
│   ├── ui/             # UI基础组件
│   ├── forms/          # 表单相关组件
│   └── charts/         # 数据可视化组件
├── lib/                # 工具函数和配置
├── hooks/              # 自定义Hook
├── store/              # 状态管理
└── types/              # TypeScript类型定义
```

## 3. UI/UX设计规范

### 3.1 设计原则
- 简洁直观：减少认知负担
- 渐进式引导：分步骤完成评估
- 即时反馈：实时展示填写进度
- 数据可视化：直观展示评估结果
- 响应式设计：适配各种设备

### 3.2 色彩规范
- 主色调: #0F172A (深蓝)
- 辅助色: #6366F1 (紫蓝)
- 强调色: #22C55E (绿色)
- 警告色: #EF4444 (红色)
- 背景色: #FFFFFF (白色)
- 文字色: #1F2937 (深灰)

### 3.3 评估表单设计
评估将分为四个主要步骤：

1. **基本信息**
   - 工作类型
   - 行业领域
   - 工作年限
   - 当前职位

2. **时间与能力评估**
   - 时间投入评估
   - 能力匹配度评估
   - 工作强度评估

3. **薪资与发展评估**
   - 薪资满意度
   - 成长空间评估
   - 职业发展前景

4. **环境与价值评估**
   - 工作环境评估
   - 团队关系评估
   - 工作自主度
   - 价值认同度

### 3.4 评分机制
每个评估维度采用1-10分制：
- 1-3分：不满意
- 4-6分：一般
- 7-8分：满意
- 9-10分：非常满意

## 4. 数据模型设计

### 4.1 用户表 (users)
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  email VARCHAR(255) UNIQUE NOT NULL,
  name VARCHAR(100),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

### 4.2 评估记录表 (assessments)
```sql
CREATE TABLE assessments (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id),
  job_title VARCHAR(100),
  industry VARCHAR(100),
  time_investment INTEGER,
  skill_match INTEGER,
  salary_satisfaction INTEGER,
  growth_potential INTEGER,
  work_intensity INTEGER,
  career_development INTEGER,
  work_environment INTEGER,
  team_relationship INTEGER,
  work_autonomy INTEGER,
  value_alignment INTEGER,
  total_score DECIMAL(4,2),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

## 5. API设计

### 5.1 认证相关
- POST /api/auth/register
- POST /api/auth/login
- POST /api/auth/logout

### 5.2 评估相关
- POST /api/assessments
- GET /api/assessments
- GET /api/assessments/:id
- GET /api/assessments/stats

## 6. 部署流程

### 6.1 环境配置
1. 创建Vercel项目
2. 配置环境变量
3. 设置Supabase连接

### 6.2 部署步骤
1. 推送代码到GitHub
2. Vercel自动部署
3. 运行数据库迁移
4. 配置域名和SSL

## 7. 测试规范

### 7.1 单元测试
使用Jest + React Testing Library进行组件测试

### 7.2 E2E测试
使用Cypress进行端到端测试

## 8. 性能优化

### 8.1 前端优化
- 组件懒加载
- 图片优化
- 缓存策略
- Bundle分析和优化

### 8.2 后端优化
- API缓存
- 数据库索引
- 查询优化

## 9. 安全措施

### 9.1 前端安全
- XSS防护
- CSRF防护
- 输入验证

### 9.2 后端安全
- 认证授权
- 数据加密
- Rate limiting

## 10. 监控与日志

### 10.1 监控指标
- 页面加载时间
- API响应时间
- 错误率
- 用户行为分析

### 10.2 日志记录
- 访问日志
- 错误日志
- 性能日志

## 11. 维护计划

### 11.1 定期维护
- 依赖更新
- 安全补丁
- 性能优化
- 功能迭代

### 11.2 备份策略
- 数据库定时备份
- 代码版本控制
- 配置文件备份